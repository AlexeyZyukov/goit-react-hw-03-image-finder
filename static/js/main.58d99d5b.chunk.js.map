{"version":3,"sources":["components/styles.module.css","components/Searchbar/Searchbar.js","components/LoadError/LoadError.js","components/Spinner/Spinner.js","components/API/APIservice.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Fetch/Fetch.js","App.js","index.js"],"names":["module","exports","Searchbar","static","onSubmit","PropTypes","func","picture","string","state","name","handleInputChange","e","setState","currentTarget","value","onInputSubmit","props","preventDefault","reset","class","this","className","styles","input","type","autoComplete","autoFocus","placeholder","onChange","button","style","marginRight","buttonLabel","Component","LoadError","message","role","Spinner","color","height","width","timeout","FetchPictures","nextName","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","key","alt","smallImage","largeImage","galleryItem","galleryImg","src","ImageGallery","gallery","map","id","webformatURL","tags","largeImageURL","Status","FetchImages","error","status","prevProps","prevState","pictureName","console","log","catch","hits","App","handleSearchSubmit","alert","wrapper","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58d99d5b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__Eatz_\",\"App\":\"styles_App__3-sQh\",\"Searchbar\":\"styles_Searchbar__DbnX7\",\"SearchForm\":\"styles_SearchForm__2IsDV\",\"SearchForm-button\":\"styles_SearchForm-button__174UA\",\"SearchForm-button-label\":\"styles_SearchForm-button-label__35QOW\",\"SearchForm-input\":\"styles_SearchForm-input__1j0xT\",\"ImageGallery\":\"styles_ImageGallery__3YdAd\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__2iymv\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__w63Un\",\"Overlay\":\"styles_Overlay__1kjvq\",\"Modal\":\"styles_Modal__3b8RB\",\"Button\":\"styles_Button__1rFFm\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport styles from '../styles.module.css';\n\nexport default class Searchbar extends Component {\n  static = {\n    onSubmit: PropTypes.func,\n    picture: PropTypes.string,\n  };\n  state = {\n    name: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ name: e.currentTarget.value });\n  };\n\n  onInputSubmit = e => {\n    const { onSubmit } = this.props;\n    e.preventDefault();\n    onSubmit(this.state.name);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: '' });\n  };\n\n  render() {\n    return (\n      <header>\n        <form class=\"form\" onSubmit={this.onInputSubmit}>\n          <input\n            className={styles.input}\n            type=\"text\"\n            name=\"name\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.value}\n          />\n          <button className={styles.button} type=\"submit\">\n            <ImSearch style={{ marginRight: 8 }} />\n            <span className={styles.buttonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","export default function LoadError({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n        <p>Loading...</p>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22969480-c3583c2b4b1ca4646f49ed52f';\n\nconst FetchPictures = (nextName, page) => {\n  return fetch(\n    `${BASE_URL}?q=${nextName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Нет картинки с таким названием ${nextName}`),\n    );\n  });\n};\nexport default FetchPictures;\n\n// const API = { fetchPictures }; //формирование метода. для этого fetchPicture описать функцией.\n// export default API; //экспорт метода\n","import React from 'react';\nimport styles from '../styles.module.css';\n\nexport default function ImageGalleryItem({ key, alt, smallImage, largeImage }) {\n  // console.log(src, alt, largeImage, id);\n  return (\n    <li key={key} className={styles.galleryItem}>\n      <img\n        className={styles.galleryImg}\n        width=\"320\"\n        src={smallImage}\n        alt={alt}\n        data-source={largeImage}\n      />\n    </li>\n  );\n}\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from '../styles.module.css';\n\nexport default function ImageGallery({ picture }) {\n  return (\n    <ul class={styles.gallery}>\n      {/* console.log({picture}) */}\n      {picture.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImage={webformatURL}\n          alt={tags}\n          largeImage={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\n","import { Component } from 'react';\nimport LoadError from '../LoadError/LoadError';\nimport Spinner from '../Spinner/Spinner';\nimport FetchPictures from '../API/APIservice';\nimport ImageGallery from '../ImageGallery/ImageGallery';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class FetchImages extends Component {\n  state = {\n    picture: null,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // const { prevName } = prevProps.pictureName; //не работает с деструктурированием!! Почему???\n    // const { nextName } = this.props.pictureName;\n\n    if (prevProps.pictureName !== this.props.pictureName) {\n      console.log('Picture name was changed');\n      // console.log('prevProps.pictureName = ', prevProps.pictureName); //дает \"\"\n      // console.log('this.props.pictureName = ', this.props.pictureName);//дает введенное название\n\n      this.setState({ status: Status.PENDING });\n\n      FetchPictures(this.state.picture, 1)\n        .then(picture => this.setState({ picture, status: Status.RESOLVED }))\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n  }\n\n  render() {\n    const { picture, error, status } = this.state;\n    const { pictureName } = this.props;\n\n    if (status === 'idle') {\n      return <p>Input name of picture to search</p>;\n    }\n    if (status === 'pending') {\n      return <Spinner />;\n    }\n    if (status === 'rejected') {\n      console.log(error.message);\n      return <LoadError message={error.message} />;\n    }\n    if (status === 'resolved') {\n      return (\n        <div>\n          {pictureName}\n          {/* {picture} */}\n          <ImageGallery picture={picture.hits} />\n        </div>\n      );\n    }\n  }\n}\n","import styles from './components/styles.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { Component } from 'react';\nimport FetchImages from './components/Fetch/Fetch';\n// import Spinner from './components/Spinner/Spinner';\n\nclass App extends Component {\n  state = {\n    pictureName: '',\n  };\n\n  handleSearchSubmit = pictureName => {\n    if (!pictureName) {\n      return alert('Nothing to search. Enter name, please.');\n    }\n    this.setState({ pictureName });\n    // console.log(pictureName)\n    // console.log(this.state.pictureName)\n  };\n\n  componentDidMount() {\n    console.log(this.state);\n\n    console.log('Hi');\n  }\n\n  render() {\n    return (\n      <div className={styles.wrapper}>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        <FetchImages pictureName={this.state.pictureName} />\n        {/* <Spinner /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}