{"version":3,"sources":["App.module.css","components/ImageGallery/imageGalery.module.css","components/Searchbar/Searchbar.js","components/LoadError/LoadError.js","components/Spinner/Spinner.js","components/API/APIservice.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Fetch/Fetch.js","App.js","index.js","components/Searchbar/searchbar.module.css","components/ImageGalleryItem/imageGaleryItem.module.css"],"names":["module","exports","Searchbar","static","onSubmit","PropTypes","func","picture","string","state","name","handleInputChange","e","setState","currentTarget","value","onInputSubmit","props","preventDefault","reset","class","this","className","styles","input","type","autoComplete","autoFocus","placeholder","onChange","SearchForm_button","style","marginRight","SearchForm_button_label","Component","LoadError","message","role","Spinner","color","height","width","timeout","API","fetchPictures","nextName","nextPage","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","id","alt","smallImage","largeImage","galleryItem","galleryItem_Img","src","ImageGallery","pictures","gallery","map","webformatURL","tags","largeImageURL","Button","onClickLoad","onClick","Status","FetchImages","error","status","page","loadMore","prevState","console","log","prevProps","prevName","pictureName","prevPage","wrapperForFetch","data","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","App","handleSearchSubmit","alert","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c65bb8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3g-Kg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"imageGalery_gallery__3g3kW\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport styles from './searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static = {\n    onSubmit: PropTypes.func,\n    picture: PropTypes.string,\n  };\n  state = {\n    name: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ name: e.currentTarget.value });\n  };\n\n  onInputSubmit = e => {\n    const { onSubmit } = this.props;\n    e.preventDefault();\n    onSubmit(this.state.name);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: '' });\n  };\n\n  render() {\n    return (\n      <header>\n        <form class=\"form\" onSubmit={this.onInputSubmit}>\n          <input\n            className={styles.input}\n            type=\"text\"\n            name=\"name\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.value}\n          />\n          <button className={styles.SearchForm_button} type=\"submit\">\n            <ImSearch style={{ marginRight: 8 }} />\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","export default function LoadError({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n        <p>Loading...</p>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22969480-c3583c2b4b1ca4646f49ed52f';\n\nfunction fetchPictures(nextName, nextPage) {\n  return fetch(\n    `${BASE_URL}?q=${nextName}&page=${nextPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Нет картинки с таким названием ${nextName}`),\n    );\n  });\n}\n// export default FetchPictures;\n\nconst API = { fetchPictures }; //формирование метода. для этого fetchPicture описать функцией.\nexport default API; //экспорт метода\n","import styles from './imageGaleryItem.module.css';\n\nexport default function ImageGalleryItem({ id, alt, smallImage, largeImage }) {\n  // console.log(src, alt, largeImage, id);\n  return (\n    <li key={id} className={styles.galleryItem}>\n      <img\n        className={styles.galleryItem_Img}\n        src={smallImage}\n        alt={alt}\n        data-source={largeImage}\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGalery.module.css';\n\nexport default function ImageGallery({ pictures }) {\n  return (\n    <ul class={styles.gallery}>\n      {/* console.log({picture}) */}\n      {pictures.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImage={webformatURL}\n          alt={tags}\n          largeImage={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\n","export default function Button({ onClickLoad }) {\n  return (\n    <button className=\"button\" type=\"button\" onClick={onClickLoad}>\n      Load more\n    </button>\n  );\n}\n","import { Component } from 'react';\nimport LoadError from '../LoadError/LoadError';\nimport Spinner from '../Spinner/Spinner';\nimport API from '../API/APIservice';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class FetchImages extends Component {\n  state = {\n    pictures: [],\n    error: null,\n    status: Status.IDLE,\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.pictureName;\n    const prevPage = prevState.page;\n    const nextName = this.props.pictureName;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName) {\n      this.setState({ status: Status.PENDING });\n      this.setState({ page: 1, pictures: [] });\n      this.wrapperForFetch(nextName, nextPage);\n    }\n\n    if (prevPage !== nextPage) {\n      this.wrapperForFetch(nextName, nextPage);\n    }\n  }\n\n  wrapperForFetch(nextName, nextPage) {\n    API.fetchPictures(nextName, nextPage)\n      .then(data => {\n        this.setState(prevState => {\n          return {\n            pictures: [...prevState.pictures, ...data.hits],\n            status: Status.RESOLVED,\n          };\n        });\n\n        if (this.prevPage !== nextPage) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  }\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    console.log(this.state.page);\n  };\n\n  render() {\n    const { pictures, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <p>Input name of picture to search</p>;\n    }\n    if (status === 'pending') {\n      return <Spinner />;\n    }\n    if (status === 'rejected') {\n      console.log(error.message);\n      return <LoadError message={error.message} />;\n    }\n    if (status === 'resolved') {\n      return (\n        <div>\n          <ImageGallery pictures={pictures} />\n          <Button onClickLoad={this.loadMore} />\n        </div>\n      );\n    }\n  }\n}\n","import styles from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { Component } from 'react';\nimport FetchImages from './components/Fetch/Fetch';\n// import Spinner from './components/Spinner/Spinner';\n\nexport default class App extends Component {\n  state = {\n    pictureName: '',\n  };\n\n  handleSearchSubmit = pictureName => {\n    if (!pictureName) {\n      return alert('Nothing to search. Enter name, please.');\n    }\n    this.setState({ pictureName });\n  };\n\n  componentDidMount() {\n    console.log(this.state);\n\n    console.log('Hi');\n  }\n\n  render() {\n    const { pictureName } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        <FetchImages pictureName={pictureName} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"searchbar_SearchForm__3hvWd\",\"SearchForm_button\":\"searchbar_SearchForm_button___SXD4\",\"SearchForm_input\":\"searchbar_SearchForm_input__1afxj\",\"Searchbar\":\"searchbar_Searchbar__6NMzl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"imageGaleryItem_galleryItem__1jW1B\",\"galleryItem_Img\":\"imageGaleryItem_galleryItem_Img__uHvpE\"};"],"sourceRoot":""}